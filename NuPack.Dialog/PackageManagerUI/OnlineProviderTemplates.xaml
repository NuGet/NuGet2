<ResourceDictionary x:Uid="ResourceDictionary_1" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:self="clr-namespace:NuPack.Dialog.PackageManagerUI"
    xmlns:sys="clr-namespace:System;assembly=mscorlib">
    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary x:Uid="ResourceDictionary_2" Source="TemplateStyles.xaml" />
    </ResourceDictionary.MergedDictionaries>
    
    <DataTemplate x:Uid="DataTemplate_OnlineTileTemplate" x:Key="OnlineTileTemplate">
        <DataTemplate.Resources>
            <BooleanToVisibilityConverter x:Uid="BooleanToVisibilityConverter_1" x:Key="boolToVis" />
            <BitmapImage x:Uid="BitmapImage_AlreadyInstalled" x:Key="BitmapImage_AlreadyInstalled" UriSource="pack://application:,,,/Microsoft.VisualStudio.ExtensionManager.Implementation;Component/UI/AlreadyInstalled.png" />
        </DataTemplate.Resources>
        
        <Grid x:Uid="Grid_6" Style="{StaticResource TileTemplateGridStyle}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition x:Uid="ColumnDefinition_9" Width="38" />
                <ColumnDefinition x:Uid="ColumnDefinition_10" Width="*" />
                <ColumnDefinition x:Uid="ColumnDefinition_11" Width="Auto" />
            </Grid.ColumnDefinitions>

            <Image x:Uid="Image_TileIconOnline"
                   AutomationProperties.AutomationId="Image_TileIconOnline"
                   Style="{StaticResource TileImageStyle}">
                <Image.Source>
                    <Binding x:Uid="Image_TileIconOnlineBinding" Path="IconNonNull" FallbackValue="{StaticResource BitmapImage_DefaultIcon}" Converter="{StaticResource uriToIconConverter}" />
                </Image.Source>
            </Image>
            <StackPanel x:Uid="StackPanel_6" Grid.Column="1" Style="{StaticResource TileMiddleStackPanelStyle}">
                <self:TextBlockControl x:Uid="TextBlock_TileNameOnline" 
                                       AutomationProperties.AutomationId="TextBlock_TileNameOnline" 
                                       Text="{Binding Name}" 
                                       Style="{StaticResource TileTitleTextBoxStyle}">
                    <TextBlock.ToolTip>
                        <TextBlock x:Uid="TextBlock_2" Text="{Binding Name}" Style="{StaticResource TileToolTipStyle}"/>
                    </TextBlock.ToolTip>
                </self:TextBlockControl>
                <self:TextBlockControl x:Uid="TextBlock_TileDescriptionOnline"
                                       AutomationProperties.AutomationId="TextBlock_TileDescriptionOnline" 
                                       Text="{Binding Description}" 
                                       Style="{StaticResource TileDescriptionTextBoxStyle}">
                    <TextBlock.ToolTip>
                        <TextBlock x:Uid="TextBlock_1" Text="{Binding Description}" Style="{StaticResource TileToolTipStyle}"/>
                    </TextBlock.ToolTip>
                </self:TextBlockControl>
            </StackPanel>
            <StackPanel x:Uid="DownloadButtonsStackPanel"
                        x:Name="DownloadButtonsStackPanel" 
                        Grid.Column="2"
                        Style="{StaticResource TileRightStackPanelStyle}"
                        Visibility="Visible">
                <DockPanel x:Uid="DockPanel_1">
                    <Image
                       x:Uid="Image_AlreadyInstalled"
                       DockPanel.Dock="Right"
                       Source="{StaticResource BitmapImage_AlreadyInstalled}"
                       Visibility="{Binding IsInstalled, Mode=OneWay, Converter={StaticResource boolToVis}}"
                       HorizontalAlignment="Right">
                        <Image.ToolTip>
                            <TextBlock x:Uid="TextBlock_AlreadyInstalledTooltip"
                                   Text="This package is already installed."
                                   Style="{StaticResource TileToolTipStyle}"/>
                        </Image.ToolTip>
                    </Image>
                    <Button x:Uid="Button_Download"
                        x:Name="Button_Download"
                        DockPanel.Dock="Left"
                        AutomationProperties.AutomationId="Button_Download"
                        Command="{x:Static self:PackageManagerWindowCommands.InstallPackage}"
                        Content="_Install"
                        IsDefault="True"
                        Visibility="Collapsed"
                        Style="{StaticResource DetailButtonStyle}" />
                </DockPanel>
            </StackPanel>
        </Grid>
        <DataTemplate.Triggers>
            <MultiDataTrigger x:Uid="MultiDataTrigger_1">
                <MultiDataTrigger.Conditions>
                    <Condition x:Uid="Condition_1" Binding="{Binding IsSelected}" Value="True" />
                    <Condition x:Uid="Condition_2" Binding="{Binding IsInstalled}" Value="False" />
                </MultiDataTrigger.Conditions>
                <Setter x:Uid="Setter_1" TargetName="Button_Download" Property="Visibility" Value="Visible" />
            </MultiDataTrigger>
        </DataTemplate.Triggers>
    </DataTemplate>

    <DataTemplate x:Uid="DataTemplate_OnlineUpdateTileTemplate" x:Key="OnlineUpdateTileTemplate">
        <DataTemplate.Resources>
            <BooleanToVisibilityConverter x:Uid="BooleanToVisibilityConverter_1" x:Key="boolToVis" />
            <BitmapImage x:Uid="BitmapImage_AlreadyInstalled" x:Key="BitmapImage_AlreadyInstalled" UriSource="pack://application:,,,/Microsoft.VisualStudio.ExtensionManager.Implementation;Component/UI/AlreadyInstalled.png" />
        </DataTemplate.Resources>
        <Grid x:Uid="Grid_6" Style="{StaticResource TileTemplateGridStyle}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition x:Uid="ColumnDefinition_9" Width="38" />
                <ColumnDefinition x:Uid="ColumnDefinition_10" Width="*" />
                <ColumnDefinition x:Uid="ColumnDefinition_11" Width="Auto" />
            </Grid.ColumnDefinitions>

            <Image x:Uid="Image_TileIconOnline"
                   AutomationProperties.AutomationId="Image_TileIconOnline"
                   Style="{StaticResource TileImageStyle}">
                <Image.Source>
                    <Binding x:Uid="Image_TileIconOnlineBinding" Path="IconNonNull" FallbackValue="{StaticResource BitmapImage_DefaultIcon}" Converter="{StaticResource uriToIconConverter}" />
                </Image.Source>
            </Image>
            <StackPanel x:Uid="StackPanel_6" Grid.Column="1" Style="{StaticResource TileMiddleStackPanelStyle}">
                <self:TextBlockControl x:Uid="TextBlock_TileNameOnline" 
                                       AutomationProperties.AutomationId="TextBlock_TileNameOnline" 
                                       Text="{Binding Name}" 
                                       Style="{StaticResource TileTitleTextBoxStyle}">
                    <TextBlock.ToolTip>
                        <TextBlock x:Uid="TextBlock_2" Text="{Binding Name}" Style="{StaticResource TileToolTipStyle}"/>
                    </TextBlock.ToolTip>
                </self:TextBlockControl>
                <self:TextBlockControl x:Uid="TextBlock_TileDescriptionOnline"
                                       AutomationProperties.AutomationId="TextBlock_TileDescriptionOnline" 
                                       Text="{Binding Description}" 
                                       Style="{StaticResource TileDescriptionTextBoxStyle}">
                    <TextBlock.ToolTip>
                        <TextBlock x:Uid="TextBlock_1" Text="{Binding Description}" Style="{StaticResource TileToolTipStyle}"/>
                    </TextBlock.ToolTip>
                </self:TextBlockControl>
            </StackPanel>
            <StackPanel x:Uid="DownloadButtonsStackPanel"
                        x:Name="DownloadButtonsStackPanel" 
                        Grid.Column="2"
                        Style="{StaticResource TileRightStackPanelStyle}"
                        Visibility="Visible">
                <DockPanel x:Uid="DockPanel_1">
                    <Image
                       x:Uid="Image_AlreadyUpdated"
                       DockPanel.Dock="Right"
                       Source="{StaticResource BitmapImage_AlreadyInstalled}"
                       Visibility="{Binding IsUpdated, Mode=OneWay, Converter={StaticResource boolToVis}}"
                       HorizontalAlignment="Right">
                        <Image.ToolTip>
                            <TextBlock x:Uid="TextBlock_AlreadyUpdatedTooltip"
                                   Text="This package is already updated."
                                   Style="{StaticResource TileToolTipStyle}"/>
                        </Image.ToolTip>
                    </Image>
                    <Button x:Uid="Button_Update"
                        x:Name="Button_Update"
                        DockPanel.Dock="Left"
                        AutomationProperties.AutomationId="Button_Update"
                        Command="{x:Static self:PackageManagerWindowCommands.UpdatePackage}"
                        Content="_Update"
                        IsDefault="True"
                        Visibility="Collapsed"
                        Style="{StaticResource DetailButtonStyle}" />
                </DockPanel>
            </StackPanel>
        </Grid>
        <DataTemplate.Triggers>
            <MultiDataTrigger x:Uid="MultiDataTrigger_1">
                <MultiDataTrigger.Conditions>
                    <Condition x:Uid="Condition_1" Binding="{Binding IsSelected}" Value="True" />
                    <Condition x:Uid="Condition_2" Binding="{Binding IsUpdated}" Value="False" />
                </MultiDataTrigger.Conditions>
                <Setter x:Uid="Setter_1" TargetName="Button_Update" Property="Visibility" Value="Visible" />
            </MultiDataTrigger>
        </DataTemplate.Triggers>
    </DataTemplate>

    <DataTemplate x:Uid="DataTemplate_InstalledPackagesTileTemplate" x:Key="InstalledPackagesTileTemplate">
        <DataTemplate.Resources>
            <BooleanToVisibilityConverter x:Uid="BooleanToVisibilityConverter_1" x:Key="boolToVis" />
        </DataTemplate.Resources>
        <Grid x:Uid="Grid_6" Style="{StaticResource TileTemplateGridStyle}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition x:Uid="ColumnDefinition_9" Width="38" />
                <ColumnDefinition x:Uid="ColumnDefinition_10" Width="*" />
                <ColumnDefinition x:Uid="ColumnDefinition_11" Width="Auto" />
            </Grid.ColumnDefinitions>

            <Image x:Uid="Image_TileIconOnline"
                   AutomationProperties.AutomationId="Image_TileIconOnline"
                   Style="{StaticResource TileImageStyle}">
                <Image.Source>
                    <Binding x:Uid="Image_TileIconOnlineBinding" Path="IconNonNull" FallbackValue="{StaticResource BitmapImage_DefaultIcon}" Converter="{StaticResource uriToIconConverter}" />
                </Image.Source>
            </Image>
            <StackPanel x:Uid="StackPanel_6" Grid.Column="1" Style="{StaticResource TileMiddleStackPanelStyle}">
                <self:TextBlockControl x:Uid="TextBlock_TileNameOnline" 
                                       AutomationProperties.AutomationId="TextBlock_TileNameOnline" 
                                       Text="{Binding Name}" 
                                       Style="{StaticResource TileTitleTextBoxStyle}">
                    <TextBlock.ToolTip>
                        <TextBlock x:Uid="TextBlock_2" Text="{Binding Name}" Style="{StaticResource TileToolTipStyle}"/>
                    </TextBlock.ToolTip>
                </self:TextBlockControl>
                <self:TextBlockControl x:Uid="TextBlock_TileDescriptionOnline"
                                       AutomationProperties.AutomationId="TextBlock_TileDescriptionOnline" 
                                       Text="{Binding Description}" 
                                       Style="{StaticResource TileDescriptionTextBoxStyle}">
                    <TextBlock.ToolTip>
                        <TextBlock x:Uid="TextBlock_1" Text="{Binding Description}" Style="{StaticResource TileToolTipStyle}"/>
                    </TextBlock.ToolTip>
                </self:TextBlockControl>
            </StackPanel>
            <StackPanel x:Uid="UninstallButtonsStackPanel"
                        x:Name="UninstallButtonsStackPanel" 
                        Grid.Column="2"
                        Style="{StaticResource TileRightStackPanelStyle}"
                        Visibility="Visible">
                <DockPanel x:Uid="DockPanel_1">
                    <Button x:Uid="Button_Uninstall"
                        x:Name="Button_Uninstall"
                        AutomationProperties.AutomationId="Button_Uninstall"
                        Command="{x:Static self:PackageManagerWindowCommands.UninstallPackage}"
                        Content="_Uninstall"
                        IsDefault="True"
                        Visibility="Collapsed"
                        Style="{StaticResource DetailButtonStyle}" />
                </DockPanel>
            </StackPanel>
        </Grid>
        <DataTemplate.Triggers>
            <MultiDataTrigger x:Uid="MultiDataTrigger_1">
                <MultiDataTrigger.Conditions>
                    <Condition x:Uid="Condition_1" Binding="{Binding IsSelected}" Value="True" />
                    <Condition x:Uid="Condition_2" Binding="{Binding IsInstalled}" Value="True" />
                </MultiDataTrigger.Conditions>
                <Setter x:Uid="Setter_1" TargetName="Button_Uninstall" Property="Visibility" Value="Visible" />
            </MultiDataTrigger>
        </DataTemplate.Triggers>
    </DataTemplate>

    <DataTemplate x:Uid="DataTemplate_OnlineDetailTemplate" x:Key="OnlineDetailTemplate">
        <DataTemplate.Resources>
            <self:SizeInBytesConverter x:Uid="self:SizeInBytesConverter" x:Key="sizeInBytesConverter" />
            <BooleanToVisibilityConverter x:Uid="BooleanToVisibilityConverter_2" x:Key="boolToVis" />
            <self:BooleanToVisibilityConverter x:Uid="BooleanToVisibilityConverter_3" WhenTrue="Visible" WhenFalse="Collapsed" x:Key="BoolToVisibilityConverter" />
            <self:StringCollectionsToStringConverter x:Key="authorNamesConverter" />
        </DataTemplate.Resources>
        
        <ScrollViewer x:Uid="ScrollViewer_1" HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto" Focusable="False">
            <Grid x:Uid="Grid_11" Margin="8">
                <Grid.RowDefinitions>
                    <!-- Metadata -->
                    <RowDefinition x:Uid="RowDefinition_13" Height="Auto"/>
                    <!-- Image -->
                    <RowDefinition x:Uid="RowDefinition_14" Height="*" />
                </Grid.RowDefinitions>
                
                <StackPanel x:Uid="StackPanel_14">
                    <StackPanel x:Uid="StackPanel_8" Style="{StaticResource DetailMetadataStyle}">
                        <self:TextBlockControl x:Uid="TextBlock_DetailCreatedByOnline" AutomationProperties.AutomationId="TextBlock_DetailCreatedByOnline" Text="Created by:" Style="{StaticResource DetailMetadataLabelStyle}" />
                        <self:TextBlockControl x:Uid="TextBlock_DetailCreatedByValueOnline" AutomationProperties.AutomationId="TextBlock_DetailCreatedByValueOnline" Text="{Binding Authors, Converter={StaticResource authorNamesConverter}}" Style="{StaticResource DetailMetadataValueStyle}" />
                    </StackPanel>
                    
                    <StackPanel x:Uid="StackPanel_15" Style="{StaticResource DetailMetadataStyle}">
                        <self:TextBlockControl x:Uid="TextBlock_DetailVersionOnline" AutomationProperties.AutomationId="TextBlock_DetailVersionOnline" Text="Version:" Style="{StaticResource DetailMetadataLabelStyle}" />
                        <self:TextBlockControl x:Uid="TextBlock_DetailVersionValueOnline" AutomationProperties.AutomationId="TextBlock_DetailVersionValueOnline" Text="{Binding Version}" Style="{StaticResource DetailMetadataValueStyle}"  />
                    </StackPanel>

                    <TextBlock Visibility="{Binding RequireLicenseAcceptance, Converter={StaticResource BoolToVisibilityConverter}}">
                        <Hyperlink NavigateUri="{Binding LicenseUrl, Mode=OneTime}" Command="{x:Static self:PackageManagerWindowCommands.OpenLicenseLink}">View License Terms</Hyperlink>
                    </TextBlock>

                    <self:TextBlockControl x:Uid="TextBlock_PackageDescription" Style="{StaticResource DetailDescriptionTextBoxStyle}" Text="{Binding Description}" >
                    </self:TextBlockControl>
                    
                    <self:TextBlockControl x:Uid="TextBlock_PackageDependencies" Style="{StaticResource DetailDependenciesTextBoxStyle}" Text="{Binding Dependencies}" >
                    </self:TextBlockControl>
                </StackPanel>
                <Border x:Uid="Border_5" HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Row="1" Style="{StaticResource DetailBorderStyle}" Margin="0,4,0,0">
                    <Image x:Uid="Image_PreviewImageOnline" AutomationProperties.AutomationId="Image_PreviewImageOnline" Style="{StaticResource DetailImageStyle}">
                        <Image.Source>
                            <Binding x:Uid="Image_PreviewImageOnlineBinding" Path="PreviewImageNonNull" FallbackValue="{StaticResource BitmapImage_DefaultPreviewImage}" Converter="{StaticResource uriToPreviewImageConverter}" />
                        </Image.Source>
                    </Image>
                </Border>
            </Grid>
        </ScrollViewer>
    </DataTemplate>
</ResourceDictionary>
